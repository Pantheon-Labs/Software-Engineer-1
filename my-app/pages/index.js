import Head from 'next/head'
import Image from 'next/image'
import styles from '../styles/Home.module.css'
import axios from "axios";
import { useEffect, useState } from 'react';

export default function Home() {
	const [characters, setCharacters] = useState([])

	//var axios = require("axios").default;

	var options = {
		method: 'GET',
		url: 'https://rickandmortyapi.com/api/character',
	};

	useEffect(() => {
		axios.request(options).then(function (response) {
			console.log(response.data);
			setCharacters(response.data);
		}).catch(function (error) {
			console.error(error);
		});
	},[]);

	console.log("characters from " +characters);
	return (
		<div className={styles.container}>
			<Head>
				<title>Create Next App</title>
				<meta name="description" content="Generated by create next app" />
				<link rel="icon" href="/favicon.ico" />
			</Head>

			<main className={styles.main}>
				{characters && (
					Object.entries(characters).map(function(keyName, i) { <div key={i}>{characters[keyName]}</div>})
				)}

				<div className={styles.grid}>
					{//characters}
					}
				</div>
			</main>

			<footer className={styles.footer}>

			</footer>
		</div>
	)
}
